{"version":3,"file":"static/js/664.e542f5f2.chunk.js","mappings":"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","sources":["Pages/MovieDetails/MovieDetails.styled.js","Pages/MovieDetails/MovieDetails.jsx","Pages/NotFoundPage/NotFoundPage.styled.js","Pages/NotFoundPage/NotFoundPage.jsx","services/api.js"],"sourcesContent":["import { Link } from 'react-router-dom';\nimport styled from 'styled-components';\n\nexport const BaseInformation = styled.div`\n  display: flex;\n  gap: 20px;\n`;\n\nexport const Image = styled.img`\n  display: block;\n  max-width: 100%;\n  max-height: 500px;\n`;\n\nexport const Description = styled.div`\n  width: 100%;\n`;\n\nexport const ButtonBack = styled(Link)`\n  display: inline-flex;\n  align-items: center;\n  margin-bottom: 20px;\n\n  color: black;\n  text-decoration: none;\n\n  &:hover,\n  &:focus {\n    color: red;\n  }\n\n  svg {\n    margin-right: 7px;\n  }\n`;\n","import { Suspense, useEffect, useState } from 'react';\nimport { Link, Outlet, useLocation, useParams } from 'react-router-dom';\nimport { getMovieById } from 'services/api';\n\nimport { BsFillArrowLeftCircleFill } from 'react-icons/bs';\nimport NotFoundPage from 'Pages/NotFoundPage';\nimport { Spinner } from 'components/Spinner';\nimport {\n  BaseInformation,\n  ButtonBack,\n  Description,\n  Image,\n} from './MovieDetails.styled';\n\nexport const STATUS = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n};\n\nexport const useFetchMovieById = id => {\n  const [movie, setMovie] = useState([]);\n  const [status, setStatus] = useState(STATUS.IDLE);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    async function fetchMovies() {\n      setStatus(STATUS.PENDING);\n      try {\n        const movie = await getMovieById(id);\n        setMovie(movie);\n        setStatus(STATUS.RESOLVED);\n      } catch (error) {\n        setError(error);\n        setStatus(STATUS.REJECTED);\n      }\n    }\n    fetchMovies();\n  }, [id]);\n\n  return { movie, status, error };\n};\n\nconst MovieDetails = () => {\n  const { movieId } = useParams();\n  const location = useLocation();\n  const prevLocation = location?.state?.from ?? '/';\n\n  const { movie, status } = useFetchMovieById(movieId);\n\n  const { title, poster_path, overview, genres, release_date, vote_average } =\n    movie;\n\n  return (\n    <>\n      <ButtonBack to={prevLocation}>\n        <BsFillArrowLeftCircleFill size={24} />\n        Go back\n      </ButtonBack>\n\n      {status === STATUS.PENDING && <Spinner />}\n\n      {status === STATUS.REJECTED && <NotFoundPage />}\n\n      {status === STATUS.RESOLVED && (\n        <div>\n          <BaseInformation>\n            <Image\n              src={`https://image.tmdb.org/t/p/w500/${poster_path}`}\n              alt={`${title}'s poster`}\n            ></Image>\n            <Description>\n              <h1>\n                {title} ({release_date.slice(0, 4)})\n              </h1>\n              <p>User Score: {vote_average * 10}%</p>\n              <h2>Overview</h2>\n              <p>{overview}</p>\n              <h2>Genres</h2>\n              <p>{genres.map(({ name }) => name).join(', ')}</p>\n            </Description>\n          </BaseInformation>\n          <hr />\n          <h3>Additional information</h3>\n          <ul>\n            <li>\n              <Link to=\"cast\" state={{ from: prevLocation }}>\n                Cast\n              </Link>\n            </li>\n            <li>\n              <Link to=\"reviews\" state={{ from: prevLocation }}>\n                Reviews\n              </Link>\n            </li>\n          </ul>\n          <hr />\n          <Suspense fallback={<Spinner />}>\n            <Outlet />\n          </Suspense>\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default MovieDetails;\n","import styled from 'styled-components';\n\nexport const ErrorTitle = styled.h1`\n  height: 100%;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\n","import { ErrorTitle } from './NotFoundPage.styled';\n\nconst NotFoundPage = () => {\n  return <ErrorTitle>Sorry. Page not found</ErrorTitle>;\n};\n\nexport default NotFoundPage;\n","import axios from 'axios';\n\nconst API_KEY = '80dd5d087ca76f72d259ad6d0e54d71f';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\n\nexport const getTrendingMovies = async () => {\n  return (await axios.get(`/trending/all/day?api_key=${API_KEY}`)).data.results;\n};\n\nexport const getMovieById = async id => {\n  return (await axios.get(`/movie/${id}?api_key=${API_KEY}`)).data;\n};\n\nexport const getReviewsById = async id => {\n  return (await axios.get(`/movie/${id}/reviews?api_key=${API_KEY}`)).data\n    .results;\n};\n\nexport const getCastById = async id => {\n  return (await axios.get(`/movie/${id}/credits?api_key=${API_KEY}`)).data.cast;\n};\n\nexport const searchMovies = async query => {\n  return (await axios.get(`/search/movie?query=${query}&api_key=${API_KEY}`))\n    .data.results;\n};\n"],"names":["BaseInformation","styled","div","_templateObject","_taggedTemplateLiteral","Image","img","_templateObject2","Description","_templateObject3","ButtonBack","Link","_templateObject4","STATUS","MovieDetails","_location$state$from","_location$state","movieId","useParams","location","useLocation","prevLocation","state","from","movie","status","id","setMovie","useState","setStatus","error","setError","useEffect","async","getMovieById","fetchMovies","useFetchMovieById","title","poster_path","overview","genres","release_date","vote_average","_jsxs","_Fragment","children","to","_jsx","BsFillArrowLeftCircleFill","size","Spinner","NotFoundPage","src","concat","alt","slice","map","_ref","name","join","Suspense","fallback","Outlet","ErrorTitle","h1","API_KEY","axios","baseURL","getTrendingMovies","data","results","getReviewsById","getCastById","cast","searchMovies","query"],"sourceRoot":""}